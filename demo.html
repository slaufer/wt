<!doctype html>
<html>
	<head>
		<meta charset=utf-8>
		<title>WT demo</title>
		<script type="text/javascript" src="wt-util.js"></script>
		<script type="text/javascript" src="wt-vers.js"></script>
		<script type="text/javascript" src="wt-const.js"></script>
		<script type="text/javascript" src="wt-symbol.js"></script>
		<script type="text/javascript" src="wt-encode.js"></script>
		<script type="text/javascript" src="wt-main.js"></script>
		<script type="text/javascript">
			function startDemo() {
				var qr = new QRCode();
			
				qr.setVersion(parseInt(document.getElementById("qrver").value), QR__EC[document.getElementById("qrec").value]);
				qr.setData([
					{data: 3, mode: QR__Mode.ECI}, // just to be safe - default incoding is ShiftJIS
					{data: document.getElementById("qrdata").value, mode: QR__Mode.smart}
				]);
				
				// test sequence
				/*qr.setVersion(0, QR__EC.M);
				qr.setData([
					{data: '15010114', mode: QR__Mode.FNC11 },
					{data: 3, mode: QR__Mode.ECI},
					{data: '!@#$%^&*()', mode: QR__Mode.eightBit},
					{data: 'HELLO WORLDXXXXXXXXXXXXXXXXXXXXXX', mode: QR__Mode.alNum},
					{data: '1234567890', mode: QR__Mode.num },
					{data: 15, mode: QR__Mode.FNC12 },
					{data: '010114', mode: QR__Mode.smart},
					{data: 'END TEST ', mode: QR__Mode.smart},
					{data: 'SEQUENCE**', mode: QR__Mode.smart}
				]);*/
				
				// FNC1 test sequence
				/*qr.setVersion(1, QR__EC.M);
				qr.setData([
						{ data: 1, mode: QR__Mode.FNC12 },
						{ data: "04912345123459", mode: QR__Mode.num }
				]);*/
				
				qr.drawSymbol();
				drawQRToCanvas(qr, document.getElementById('qrcanvas'), 8);
				
			}
			
			window.onload = function() {
				startDemo();
			}
		</script>
	</head>
	<body>
		<p>
			<label for="qrver">Version</label>
			<select id="qrver" onchange="startDemo()">
				<option value="0" SELECTED>Auto</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
				<option value="31">31</option>
				<option value="32">32</option>
				<option value="33">33</option>
				<option value="34">34</option>
				<option value="35">35</option>
				<option value="36">36</option>
				<option value="37">37</option>
				<option value="38">38</option>
				<option value="39">39</option>
				<option value="40">40</option>
			</select>
			<label for="qrec">EC Mode</label>
			<select id="qrec" onchange="startDemo()">
				<option value="L">L</option>
				<option value="M" SELECTED>M</option>
				<option value="Q">Q</option>
				<option value="H">H</option>
			</select>
			<br>
			<textarea id="qrdata" placeholder="Enter test data" onkeyup="startDemo()" style="width: 232px; height: 232px;">TEST</textarea><br>
			<canvas id="qrcanvas"></canvas>
		</p>
	</body>
</html>
